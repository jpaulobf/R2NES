# Emulator configuration file
# Lines starting with '#' are comments
# Format: key=value

#d-pad-01
# Player1 UP (multiple keys separated by '/')
dp-01-up=W/w
dp-01-left=A/a
dp-01-down=S/s
dp-01-right=D/d
dp-01-select=backspace
dp-01-start=enter
dp-01-b=J/j
dp-01-a=K/k
dp-01-a-turbo=I/i
dp-01-b-turbo=U/u

#d-pad-02
dp-02-up=up
dp-02-left=left
dp-02-down=down
dp-02-right=right
dp-02-select=B/b
dp-02-start=V/v
dp-02-b=N/n
dp-02-a=M/m

# Enable turbo-fire for A/B buttons on controller 1/2 (true/false)
turbo-fast=false

# Enable scanlines effect (true/false) and alpha (0.0 to 1.0)
scanlines=true

# alpha: 0.0 = sem scanlines, 1.0 = scanlines sólidas (preto puro)
scanlines-alpha=0.04

# Reset key (press during GUI to reset CPU+PPU). Accepts F1..F12 or any mapped token.
reset=F1

# Default ROM to load on startup (relative to working directory)
rom=roms/castlevania.nes

# Directory for battery-backed PRG RAM (.sav) files (auto-created)
save-path=roms/save/

# Directory for save state snapshot files (.state)
save-state-path=roms/savestates/

# Hotkey to save current emulator snapshot
save-state=F5

# Hotkey to load the last saved snapshot
load-state=F7

# Hotkey to enable fast-forward (hold to speed up emulation)
fast-foward=tab

# Optional FPS cap while fast-forward is held (>=1).
# 0 ou ausência = ilimitado (usa toda a CPU disponível).
# Defina, por exemplo, 240 para limitar ~4x (mantendo alguma folga de CPU) ou 300 para ~5x.
# A limitação atua apenas durante o fast-forward.
fast-foward-max-fps=300

# Toggle aspect ratio / proportional scaling while in fullscreen
toogle-fullscreen-proportion=F10

# Toggle fullscreen mode (windowed <-> fullscreen)
toggle-fullscreen=F11

# Toggle on-screen HUD overlay (FPS / scanline / inputs)
toggle-hud=F12

# Hotkey to pause/unpause emulation
pause-emulation=P/p/pause

## Debug / instrumentation options (set to reduce while diagnosing issues)
# log-mmc1 = number of MMC1 register write operations to log (bank/control changes). 0 disables.
log-mmc1=0

# spin-watch = number of consecutive CPU cycles with the SAME program counter before a watchdog snapshot is emitted.
spin-watch=0

# spin-dump-bytes = when a spin snapshot triggers, dump the first N opcode bytes starting at the spin PC (1..64). 0 disables.
spin-dump-bytes=0

# trace-nmi = if true, log each NMI edge (can be noisy on some titles).
trace-nmi=false

# force-sprite0-hit = force sprite 0 hit to be set early every frame (debug aid for games polling BIT $2002 loops). Leave false normally.
force-sprite0-hit=false

# log-warn-key = hotkey that emits an on-demand diagnostic snapshot ([SNAP]) at WARN log level.
log-warn-key=F2

# trace-cpu = number of CPU instructions to trace (log each executed instruction). 0 disables.
# Use to capture a few hundred instructions leading to a fault.
trace-cpu=0

# =========================
# Global emulator options
# (Uncomment / edit to override defaults)
# =========================

# Allow rendering more than 8 sprites per scanline (NES hardware limits to 8). true = disable limit (may impact performance)
unlimited-sprites=true

# Sprite Y positioning semantics (hardware|test):
#   hardware = interpret OAM sprite Y value as (top scanline - 1) like real hardware (adds +1 during evaluation)
#   test     = treat OAM sprite Y directly as the top scanline (legacy test-friendly mode)
sprite-y=hardware

# Frame pacing mode (legacy|hr):
#   legacy = simple sleep-based pacing (may jitter but minimal CPU)
#   hr     = high-resolution pacing (sleep coarse + spin fine) for smoother scroll
pacer=hr

# Use active rendering with Canvas+BufferStrategy (triple buffering) instead of Swing repaint path.
# true  = enable BufferStrategy (reduces EDT jitter, default)
# false = fallback to Swing repaint (only if troubleshooting issues)
buffer-strategy=true

# Borderless fullscreen (window sem bordas maximizada). true habilita, false desabilita.
# Pode ser sobrescrito por --borderless-fullscreen ou --no-borderless-fullscreen
borderless-fullscreen=false

# Enable GUI window (possible values: true / false)
gui=true

# Suppress legacy verbose prints (possible: true / false)
quiet=true

# Force verbose mode (sets log-level to DEBUG if log-level not explicitly set)
verbose=false

# Show on-screen HUD overlay (FPS, scanline, controller state) in GUI (true / false)
hud=false

# Logger level threshold (TRACE | DEBUG | INFO | WARN | ERROR)
log-level=INFO

# Left column rendering mode (hardware | always | crop)
#   hardware = comportamento original: depende do bit MASK_BG_LEFT (PPUMASK bit1)
#   always   = sempre blanka os 8 primeiros pixels de background
#   crop     = renderiza normalmente e blanka pós-frame (útil para ocultar "sujeira" sem afetar lógica interna)
left-column-mode=always

# Enabled log categories: comma list of CPU,PPU,APU,BUS,DMA,CONTROLLER,ROM,TEST,GENERAL or ALL
#log-cats=

# Prepend timestamps to each log line (true / false)
#log-ts=false

# PPU tile matrix dump mode (first | center | nonzero). Empty = disabled.
#tile-matrix=

# Enable CHR pattern table read logging (true / false)
#chr-log=false

# Dump current nametable tile IDs after execution (true / false)
#dump-nt=false

# Dump a single pattern tile (hex index, e.g. 0F) to image/output
#dump-pattern=

# Dump multiple pattern tiles (comma-separated hex list)
#dump-patterns=

# Trace every NMI event (true / false)
#trace-nmi=false

# Log writes/reads to PPU registers (true / false)
#log-ppu-reg=false

# Break when PC reaches given address (hex, e.g. C123)
#break-at=

# Break on read from address (hex) with optional count: ADDR[,count]
#break-read=

# Run only until first VBlank then proceed with normal frames (true / false)
#until-vblank=false

# Number (>0) of background pixel samples to collect for debug (0 disables)
#dbg-bg-sample=40

# If true, log all collected background samples instead of sampling subset
#dbg-bg-all=true

# Initialize scroll and VRAM address to deterministic baseline (true / false)
#init-scroll=false

# Simplified PPU timing mode (true / false)
#timing-simple=false

# CPU/PPU master timing mode (simple | interleaved)
#   simple      = modo legado (default): CPU executa instrução completa e depois PPU recebe ciclos em lote (granularidade grossa)
#   interleaved = micro-intercalação (PPU, CPU, PPU, PPU) reduz latência de eventos (NMI, avaliação de sprites, hits) e aproxima temporalidade real
# Observação: 'timing-simple' continua aceito para retrocompatibilidade, porém preferir 'timing-mode=simple' ou 'timing-mode=interleaved'.
timing-mode=interleaved

# Limit for attribute table writes to log (>0 enables). 0 = disabled.
#log-attr=0

# Limit for nametable tile writes to log (>0 enables). 0 = disabled.
#log-nt=0

# Limit for palette writes to log (>0 enables). 0 = disabled. (CLI: --log-palette[=N])
#log-palette=0

# Filter value (hex byte) to suppress repeated nametable write spam (leave empty = none)
#nt-baseline=

# Force background enable bit in PPUMASK (true / false)
#force-bg=true

# Print background per-column statistics (true / false)
#bg-col-stats=false

# Synthetic test pattern (h | v | checker). Empty = normal rendering.
# When set, emulator entra em modo standalone: ignora ROM/mappers/CPU e gera apenas
# o padrão sintético diretamente no PPU (útil para validar pipeline de background).
# Gera arquivo testpattern.ppm em modo headless (--no-gui) após os frames executados.
#test-pattern=checker

# Background fetch pipeline log entry limit (>0 enables)
#pipe-log=80

# Number of frames to execute in headless mode (default 60)
#frames=300